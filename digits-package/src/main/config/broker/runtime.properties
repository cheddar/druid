#Logging configuration
druid.emitter=logging
druid.emitter.logging.loggerClass=LoggingEmitter
druid.emitter.logging.logLevel=info

#Zookeeper and Curator configuration
druid.curator.compress=false
druid.zk.service.sessionTimeoutMs=30000
druid.zk.service.host=$(zk_hosts)
druid.zk.paths.base=$(zk_basePath)
druid.zk.paths.discoveryPath=$(zk_discoveryPath)

#Announcer configuration
druid.announcer.type=batch
druid.announcer.segmentsPerNode=50
druid.announcer.maxBytesPerNode=524288

#Query Processing functionality
#size of buffer for processing intermediate results
druid.processing.buffer.sizeBytes=1006632960
druid.processing.formatString=processing-%s
druid.processing.numThreads=1

#Metrics
druid.monitoring.emissionPeriod=PT1m
druid.monitoring.monitors=[]

#Server configuration
druid.host=$(YINST_HOSTNAME):$(brokerPort)
druid.port=$(brokerPort)
druid.service=broker

#Storage configuration for realtime and historical nodes
druid.server.maxSize=$(maxServerSize)
druid.server.tier=$(serverTier)

#Segment caching information. Used by historical nodes to cache segments to be served
druid.segmentCache.locations=[{"path": "$(segmentCacheLocation)", "maxSize": 9223372036854775807}]
druid.segmentCache.deleteOnRemove=true
druid.segmentCache.infoDir=$(segmentCacheInfoDir)

#Jetty configuration
druid.server.http.numThreads=$(maxHttpConnections)
druid.server.http.maxIdleTime=PT5m
druid.broker.http.numConnections=100
druid.client.http.connections=100

#Query module configuration for brokers, historical, and realtime
druid.request.logging.type=noop

#Query runner configuration
druid.query.chunkPeriod=P1M
druid.query.groupBy.singleThreaded=false
druid.query.groupBy.maxIntermediateRows=50000
druid.query.groupBy.maxResults=500000
druid.query.search.maxSearchLimit=1000

#Discovery config
druid.discovery.curator.path=/druid/discovery

#DB configuration for coordinator and indexer
druid.db.connector.pollDuration=
druid.db.connector.connectURI=$(dbConnectUri)
druid.db.connector.user=$(dbUser)
druid.db.connector.password=$(dbPassword)
druid.db.connector.createTables=true
druid.db.connector.useValidationQuery=false
druid.db.connector.validationQuery=SELECT 1

#Jackson config manager
druid.manager.config.pollDuration=PT1m

#indexing service discovery module
druid.selectors.indexing.serviceName=overlord

#data segment pusher/puller module
#types can be local, hdfs, s3, noop, cassandra
druid.storage.type=$(storageType)
druid.storage.storageDirectory=$(storageDirectory)

#Task Log module (indexing service)
druid.indexer.logs.type=file
druid.indexer.logs.directory=log

#Broker configuration
druid.broker.cache.type=local
druid.broker.cache.sizeInBytes=$(broker_cache_sizeInBytes)
druid.broker.cache.initialSize=$(broker_cache_initialSize)
druid.broker.cache.logEvictionCount=$(broker_cache_logEvictionCount)
druid.broker.cache.unCacheable=$(broker_cache_unCacheable)

druid.broker.balancer.type=random

